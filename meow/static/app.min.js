window.App={};window.App.Options={};
$(function(){function d(a,b,c){a=a?a:0;if(b&&(!a||a>b))a=b;return c&&(!a||a>c)?c:a}function e(){return{height:$("html, body").height(),slider_height:d(window.innerHeight?window.innerHeight:0,document.documentElement?document.documentElement.clientHeight:0,document.body?document.body.clientHeight:0),slider_pos:d(window.pageYOffset?window.pageYOffset:0,document.documentElement?document.documentElement.scrollTop:0,document.body?document.body.scrollTop:0)}}function f(a){var b=e().height-a.height;$("html, body").animate({scrollTop:a.slider_pos+
b},"fast")}(function(){$("script").each(function(){var a=String(this.type).replace(/ /g,"");a.match(/^text\/x-omnimarkup-config(;.*)?$/)&&!a.match(/;executed=true/)&&(this.type+=";executed=true",eval(this.innerHTML))})})();var g=window.App.Options.buffer_id,h=window.App.Options.ajax_polling_interval;(function b(){var c=$("#content"),d=c.data("timestamp"),i={buffer_id:g,timestamp:d};setTimeout(function(){$.ajax({type:"POST",url:"/api/query",data:JSON.stringify(i),dataType:"json",contentType:"application/json; charset=utf-8",
success:function(b){if(b&&null!==b.html_part){var d=e();document.title=b.filename+"\u2014"+b.dirname;$("#filename").text(b.filename);c.data("timestamp",b.timestamp);c.empty().html(b.html_part);window.App.Options.mathjax_enabled?MathJax.Hub.Queue(["resetEquationNumbers",MathJax.InputJax.TeX],["Typeset",MathJax.Hub,c[0]],function(){f(d)}):f(d)}},complete:b})},h)})()});
